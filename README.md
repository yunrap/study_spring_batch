# study_spring_batch
spring batch 학습용

## BATCH 개념
```text
Job은?
전체 배치 프로젝트를 캡슐화하는 엔티티입니다.

JobInstance 란?
배치 처리에서 Job이 실행될때 하나의 논리적 작업 실행의 단위입니다.
예를들어 하루에 한번씩 실행되는 배치 Job이있다고 생각하면 하루 하나의 JobInstance가 있다고 생각하면 된다.
단, 작업이 실패한 경우, 내일 같은 Job에 대해서 JobInstance를 사용하게 됩니다.
단 오늘과 내일은 다른 JobExecution 사용

배치 작업을 한번만 수행할수있나??
JobParameters 를 통해서 여러번수행할수있다

JobParameters에 StepScope와 JobScope를 사용하는이유??
Scope Bean 생성시점에만 함께 생성될 수있기 때문에 사용가능하다.

JobRepository 란 ?
테이블의 데이터정보를 엑세스하는 클래스이다. 
Job을 실행하면서 설정한 테이블의 정보들을 JobRepository를 통해서 저장되고 관리된다.

ItemReader 란?
일반적으로 청크 구조에서 사용되는 컴포넌트이다. 
모든 데이터에 대한 처리가 될때까지 DB 소스에서 반복적으로 읽는데 사용하는 인터페이스이다.

ItemWiter 란?
Writer 또한 청크구조에서 사용되는 컴포넌트로 배치에서 데이터로 정장하기위한 인터페이스이다.

Chunk 란?
각커밋사이에 처리되는 row 수를 얘기합니다.
즉 Chunk 단위로 트랜잭션을 수행하기때문에 실패할경우엔 해당 Chunk 만큼만 롤백되고, 이전커밋된 트랙잭션 범위까지반영됨


```

## BAC

# 2.28 cache 적용
```text
새롭게 던져주는 데이터에서 임의로 삭제되어서 원본 테이블이 인지를 못하고 삭제되지앟는 현상이
발생했다. 따라서 던져주는 데이터에서 cahche를 사용해서 , 새로운 데이터를 받을때 cache에있는 값을 비교할수있는
로직을 만들려고한다.
```

## SpringBoot 기본 Cache 사용하기 위한 설정
```text
스프링 부트에서는 고맙게도 기본 캐시 기능을 제공해준다. 원래 캐시를 저장해야할 곳도 따로 마련해야하는데
스프링부트는 스프링부트 어플리케이션을 실행하면 해당 어플리케이션과 함께 살아있는 캐시공간을 사용한다.
또한 이 캐시 데이터는 어플리케이션이 죽으면 없어지는 캐시 데이터로, 어플리케이션이 죽어도 캐시 데이터가 사라지지 않고
죽은 어플리케이션을 다시 실행시키면 기존 캐시 데이터를 사용하려면 따로 캐시 데이터를 저장하는 캐싱 서버를 두는 분산 캐싱을 해야한다.
```

## cacheable 어노테이션
```text
처음에 캐시 데이터를 만들어주고 그 다음부터는 DB에서가아닌 캐시에서 데이터를 가져오도록 설정해주는 어노테이션이다.

```

